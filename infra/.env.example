############################################################
# Roka -- Environment Variables Reference
#
# You should NOT edit this file manually.
# Run ./setup.sh to auto-generate infra/.env with all secrets.
#
# For VPS/production, set ROKA_DOMAIN before running setup.sh:
#   ROKA_DOMAIN=roka.example.com ./setup.sh
# This overrides localhost URLs with your domain (HTTPS) or IP (HTTP).
#
# LLM configuration (provider, model, API key) is managed
# from the UI at Settings > AI / LLM after first launch.
############################################################

############
# Secrets (auto-generated by setup.sh)
############

POSTGRES_PASSWORD=<generated>
JWT_SECRET=<generated>
ANON_KEY=<generated>
SERVICE_ROLE_KEY=<generated>
DASHBOARD_USERNAME=supabase
DASHBOARD_PASSWORD=<generated>

############
# Database (Docker defaults -- no change needed)
############

POSTGRES_HOST=db
POSTGRES_DB=postgres
POSTGRES_PORT=5432

############
# Supabase URLs (internal Docker network)
############

SUPABASE_URL=http://kong:8000
SUPABASE_PUBLIC_URL=http://localhost:8080
API_EXTERNAL_URL=http://localhost:8080

############
# Auth (GoTrue)
############

GOTRUE_SITE_URL=http://localhost:3000
GOTRUE_URI_ALLOW_LIST=http://localhost:3000/**
GOTRUE_DISABLE_SIGNUP=false
GOTRUE_JWT_EXP=3600
GOTRUE_JWT_DEFAULT_GROUP_NAME=authenticated
GOTRUE_MAILER_AUTOCONFIRM=true
GOTRUE_SMS_AUTOCONFIRM=true

############
# Studio
############

STUDIO_DEFAULT_ORGANIZATION=Roka
STUDIO_DEFAULT_PROJECT=Roka
STUDIO_PORT=8000

############
# Frontend
############

NEXT_PUBLIC_SUPABASE_URL=http://localhost:8080
NEXT_PUBLIC_SUPABASE_ANON_KEY=<same as ANON_KEY>

############
# Backend
############

BACKEND_PORT=8100
DATABASE_URL=postgresql://supabase_admin:<POSTGRES_PASSWORD>@db:5432/postgres
